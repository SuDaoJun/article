<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
	<style type="text/css">
	body, html,#allmap {width: 100%;height: 100%;overflow: hidden;margin:0;font-family:"微软雅黑";}
	.BMap_CityListCtrl{
		left: 75px !important;
	}
	</style>
	<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=zwcvKu4XW57vnmHyhgMPBEjYG66a1rvI"></script>
	<title>地图展示</title>
</head>
<body>
	<div id="allmap"></div>
</body>
</html>
<script type="text/javascript">
	// 百度地图API功能
	var map = new BMap.Map("allmap");    // 创建Map实例
	var point = new BMap.Point(112.683,26.887);
	map.centerAndZoom("衡阳",10);
	setTimeout(function(){
		map.panTo(map.centerAndZoom(point, 16));   
		//两秒后移动到衡阳师范，设置中心点坐标和地图级别
		//文字标签
		var opts = {
		  position : point,    // 指定文本标注所在的地理位置
		  offset   : new BMap.Size(25, -25)    //设置文本偏移量
		}
		var label = new BMap.Label("欢迎来到美丽的衡阳师范学院！", opts);  // 创建文本标注对象
			label.setStyle({
				 color : "red",
				 fontSize : "14px",
				 fontWeight: "bold",
				 height : "20px",
				 lineHeight : "20px",
				 fontFamily:"微软雅黑"
			 });
		map.addOverlay(label);   
	}, 1000);
	//添加地图类型控件
	map.addControl(new BMap.MapTypeControl({
		mapTypes:[
            BMAP_NORMAL_MAP,
            BMAP_HYBRID_MAP
        ]}));
  //地图平移缩放控件
  map.addControl(new BMap.NavigationControl());
  //比例尺控件
  map.addControl(new BMap.ScaleControl());    
  //缩略地图控件
  map.addControl(new BMap.OverviewMapControl());  

  map.enableScrollWheelZoom();
  map.enableInertialDragging();

  map.enableContinuousZoom();

  //城市列表
  var size = new BMap.Size(10, 20);
  map.addControl(new BMap.CityListControl({
      anchor: BMAP_ANCHOR_TOP_LEFT,
      offset: size,
      // 切换城市之间事件
      // onChangeBefore: function(){
      //    alert('before');
      // },
      // 切换城市之后事件
      // onChangeAfter:function(){
      //   alert('after');
      // }
  })); 

  //创建小狐狸
  	var myIcon = new BMap.Icon("http://lbsyun.baidu.com/jsdemo/img/fox.gif", new BMap.Size(300,157));
  	var marker2 = new BMap.Marker(point,{icon:myIcon});  // 创建标注
  	map.addOverlay(marker2);              // 将标注添加到地图中
  //信息窗口
  var message = {
  	  width : 200,     // 信息窗口宽度
  	  height: 80,     // 信息窗口高度
  	  title : "个人历程" , // 信息窗口标题
  	  enableMessage:true //设置允许信息窗发送短息
  	}
  	var infoWindow = new BMap.InfoWindow("路漫漫其修远兮，吾将上下而求索。", message);  // 创建信息窗口对象 
  	marker2.addEventListener("click", function(){          
  		map.openInfoWindow(infoWindow,point); //开启信息窗口
  	});
	map.setCurrentCity("衡阳");          // 设置地图显示的城市 此项是必须设置的
	map.enableScrollWheelZoom(true);     //开启鼠标滚轮缩放
</script>
